<div class="flex flex-column align-items-center justify-content-center min-h-screen">
  <div class="w-full overflow-auto" style="flex: 1; width: 100%">
    <p-card header="Todo" class="w-6">
      <div class="card">
        <!-- Use p-editor instead of contenteditable div -->
        <p-editor 
          #textEditor
          [(ngModel)]="textContent" 
          [style]="{ height: '320px' }"
          (onTextChange)="onTextChange($event)"
          placeholder="Paste your formatted text here...">
        </p-editor>
      </div>

      <!-- Remove the contenteditable div and keep the multiSelect -->
      <div class="p-col-12 p-md-4 my-2">
        <p-multiSelect 
          [options]="cities" 
          [(ngModel)]="selectedCities" 
          optionLabel="name" 
          placeholder="Select Cities"
          defaultLabel="Select Cities"
          styleClass="w-full"
        >
        </p-multiSelect>
      </div>
  
      <div class="flex justify-content-center">
        <p-button 
          label="Add" 
          icon="pi pi-plus" 
          (onClick)="addSelectedCities()"
          (onClick)="saveTodoData()"
          [disabled]="!selectedCities.length && !textContent"
          class="w-6rem">
        </p-button>
      </div>
      
      <p class="m=0">
        <p-table [value]="todos">
          <ng-template pTemplate="header">
            <tr>
              <th class="w-6">Task</th>
              <th>Completed</th>
              <th class="w-3"></th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-todo>
            <tr>
              <td>{{ todo.task }}</td>
              <td>
                <p-checkbox 
                  [(ngModel)]="todo.completed" 
                  [binary]="true" 
                  (onChange)="updateTodo($event,todo)"
                />
              </td>
              <td>
                <p-button 
                  icon="pi pi-trash"
                  (onClick)="deleteTodo($event,todo?.id)"
                >
                </p-button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </p>
    </p-card>
  </div>
</div>